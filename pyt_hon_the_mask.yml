---
- hosts: 192.168.33.15
  gather_facts: false
  pre_tasks:
# installing python2 with raw shell commands before we can use apt.
  - name: Install python2 for full ansible functionality - NB not installed by default on Ubuntu Xenial - Can be ommitted on distros that ship with python 2.7
    raw: bash -c "test -e /usr/bin/python || (apt -qqy update && apt install -qqy python-minimal)"
    register: output
    changed_when: output.stdout != ""
#  - name: Gathering Facts
#    setup:
# BEGIN OPTIONAL
# Choice of administrative tools. caveat - they reduce operational complexity but increase attack surface
  tasks:
  - name: Update repositories cache and install screen from apt - screen makes interaction over ssh significantly easier
    apt:
      name: screen
      update_cache: yes
    become: true
  - name: Install tcpdump from apt - Useful to monitor traffic ad hoc
    apt:
      name: tcpdump
    become: true
  - name: Install htop from apt - info rich and lets us know whats running on our box at a glance if we are  concerned with malware or intrusion
    apt:
      name: htop
    become: true
# END OPTIONAL
...
